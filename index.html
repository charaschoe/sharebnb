<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ShareBnB</title>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"rel="stylesheet"/>
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/layout.css">
		<link rel="stylesheet" href="css/tabs.css">
		<link rel="stylesheet" href="css/tab-interaction.css">
		<link rel="stylesheet" href="css/content.css">
		<link rel="stylesheet" href="css/navigation.css">
		<link rel="stylesheet" href="css/widget.css">
		<script src="https://d3js.org/d3.v6.min.js"></script>
		<script src="js/room_type-capetown_barchart.js"></script>

	</head>
	<body>
		<main>
			<section>
				<div class="container">
					<label for="tab_1">
						<div id="content" class="sharebnb">ShareBnB</div>
						<div class="tab-content">
							<div>
								<h3>
									In vielen Großstädten wird Wohnraum knapp, während immer mehr Wohnungen über Plattformen wie Airbnb an Tourist*innen vermietet werden. 
									Dies trägt zur Verdrängung von Einheimischen und steigenden Mietpreisen bei. 
									Unsere Visualisierung zeigt die Verteilung von Airbnb-Angeboten in sieben Städten und soll ein Bewusstsein für die Auswirkungen auf den Wohnungsmarkt schaffen.
								</h3>
							</div>
							<div>
								<h6>
									Dr. Franklin Hernández Castro
									<br>Data Visualisation<br> HfG Schwäbisch Gmünd IG3 
									<br>Jonas Wienberg, Marlon Mutlu, Philipp Maginot
								</h6>
							</div>
						</div>
					</label>

					<label for="tab_2">
						<div id="content" class="ny">NEW YORK CITY</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">New York City</span>
								<span id="total-ids-new-york">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-new-york">Loading...</span>
							</h3>
							<h3>
								<span id="population-new-york">Loading...</span>
								/
								<span id="tourists-new-york">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-new-york">Loading...</span>
							</h3>
							<!--
							<div class="arrow-nav">
								<button class="arrow" id="prev-2"><</button>
								<div id="content-2" class="ny">NEW YORK 1</div>
								<button class="arrow" id="next-2">></button>
							</div>
							-->
							<div class="container">
								<div class="widget" id="widget1">How many?</div>
								<div class="widget" id="widget2">How much?</div>
								<div class="widget" id="widget3">Meow Meow!</div>
							</div>
						
							<div id="modal1" class="modal">
								<div class="modal-content">
									<span class="close" id="close1">&times;</span>
									<div id="chart"></div>
								</div>
							</div>
							<script>
								document.addEventListener('DOMContentLoaded', () => {
									d3.json("data/capetown2.json").then(function (data) {
										const margin = { top: 20, right: 30, bottom: 40, left: 40 };
										const width = 800 - margin.left - margin.right;
										const height = 400 - margin.top - margin.bottom;

										const svg = d3
											.select("#chart")
											.append("svg")
											.attr("width", width + margin.left + margin.right)
											.attr("height", height + margin.top + margin.bottom)
											.append("g")
											.attr("transform", `translate(${margin.left},${margin.top})`);

										const x = d3.scaleBand()
											.domain(data.map(d => d.room_type))
											.range([0, width])
											.padding(0.1);

										const y = d3.scaleLinear()
											.domain([0, d3.max(data, d => d.count)])
											.range([height, 0]);

										svg.append("g")
											.attr("class", "x-axis")
											.attr("transform", `translate(0,${height})`)
											.call(d3.axisBottom(x));

										svg.append("g")
											.attr("class", "y-axis")
											.call(d3.axisLeft(y));

										svg.selectAll(".bar")
											.data(data)
											.enter()
											.append("rect")
											.attr("class", "bar")
											.attr("x", d => x(d.room_type))
											.attr("y", d => y(d.count))
											.attr("width", x.bandwidth())
											.attr("height", d => height - y(d.count))
											.attr("fill", "steelblue");
									});
								});
							</script>
						
						
							<div id="modal2" class="modal">
								<div class="modal-content">
									<span class="close" id="close2">&times;</span>
									<p>Dies ist ein Platzhalter für "How much?"</p>
								</div>
							</div>
						
						
							<div id="modal3" class="modal">
								<div class="modal-content">
									<span class="close" id="close3">&times;</span>
									<p>Dies ist ein Platzhalter für "Meow Meow!"</p>
								</div>
							</div>
						</div>
					</label>

					<label for="tab_3">
						<div id="content" class="rio">RIO DE JANEIRO</div>
						<div class="tab-content">
							<h1>
								N° <span class="city-name">Rio de Janeiro</span>
								<span id="total-ids-rio">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-rio">Loading...</span>
							</h3>
							<h3>
								<span id="population-rio">Loading...</span> /
								<span id="tourists-rio">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-rio">Loading...</span>
							</h3>

							<div class="arrow-nav">
								<button class="arrow" id="prev-3"><</button>
								<div id="content-3" class="ny">RIO 1</div>
								<button class="arrow" id="next-3">></button>
							</div>
						</div>
					</label>

					<label for="tab_4">
						<div id="content" class="cape">CAPE TOWN</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">Cape Town</span>
								<span id="total-ids-cape-town">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-cape-town"
									>Loading...</span
								>
							</h3>
							<h3>
								<span id="population-cape-town"
									>Loading...</span
								>
								/
								<span id="tourists-cape-town">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-cape-town">Loading...</span>
							</h3>
							<div class="arrow-nav">
								<button class="arrow" id="prev-4"><</button>
								<div id="content-4" class="ny">CAPE TOWN 1</div>
								<button class="arrow" id="next-4">></button>
							</div>
						</div>
					</label>

					<label for="tab_5">
						<div id="content" class="sydney">SYDNEY</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">Sydney</span>
								<span id="total-ids-sydney">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-sydney">Loading...</span>
							</h3>
							<h3>
								<span id="population-sydney">Loading...</span> /
								<span id="tourists-sydney">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-sydney">Loading...</span>
							</h3>
						</div>
					</label>

					<label for="tab_6">
						<div id="content" class="tokio">TOKIO</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">Tokyo</span>
								<span id="total-ids-tokyo">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-tokyo">Loading...</span>
							</h3>
							<h3>
								<span id="population-tokyo">Loading...</span> /
								<span id="tourists-tokyo">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-tokyo">Loading...</span>
							</h3>
							</h3>
						</div>
					</label>

					<label for="tab_7">
						<div id="content" class="istanbul">ISTANBUL</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">Istanbul</span>
								<span id="total-ids-istanbul">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-istanbul">Loading...</span>
							</h3>
							<h3>
								<span id="population-istanbul">Loading...</span>
								/
								<span id="tourists-istanbul">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-istanbul"
									>Loading...</span
								>
							</h3>
						</div>
					</label>

					<label for="tab_8">
						<div id="content" class="paris">PARIS</div>
						<div class="tab-content">
							<h1>
								N° of Airbnb listings
								<span class="city-name">Paris</span>
								<span id="total-ids-paris">Loading...</span>
							</h1>
							<h3>
								<span id="apartments-paris">Loading...</span>
							</h3>
							<h3>
								<span id="population-paris">Loading...</span> /
								<span id="tourists-paris">Loading...</span>
							</h3>
							<h3>
								<span id="airbnb-index-paris">Loading...</span>
							</h3>
						</div>
					</label>
				</div>
			</section>
		</main>
		<script type="module" src="js/script.js"></script>
		<script type="module" src="js/script4.js"></script>
		<script src="js/widget.js"></script>
	</body>
</html>